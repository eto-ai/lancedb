repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v3.2.0
    hooks:
    -   id: check-yaml
    -   id: end-of-file-fixer
    -   id: trailing-whitespace
-   repo: https://github.com/astral-sh/ruff-pre-commit
    # Ruff version.
    rev: v0.2.2
    hooks:
    - id: ruff
- repo: local
  hooks:
    - id: local-biome-check
      name: biome check
      entry: npx @biomejs/biome check --config-path nodejs/biome.json nodejs/
      language: system
      types: [text]
      files: "nodejs/.*"
      exclude: nodejs/lancedb/native.d.ts|nodejs/dist/.*
- repo: local
  hooks:
  - id: fmt
    name: cargo fmt
    description: Format files with cargo fmt.
    entry: cargo fmt
    language: system
    types: [rust]
    args: [--]
    files: '.*\.rs$'

  - id: cargo-check
    name: cargo check
    description: Check the package for errors.
    entry: cargo check
    language: system
    types: [rust]
    pass_filenames: false
    args: [--all]
    files: '.*\.rs$'

  - id: clippy
    name: cargo clippy
    description: Lint rust sources
    entry: cargo clippy
    language: system
    args: [--workspace, --, -D, warnings]
    types: [rust]
    pass_filenames: false
    files: '.*\.rs$'
